/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.13
*/
ZC.WI.push("scalemarkers");var A0L={$i:function(e){this.b(e);var i=this;i.C5=.95,i.L=0,i.AF=null,i.M=null,i.F9=null,i.A63=!1,i.BA="bottom",i.A9=0,i.BS=0,i.ML="normal",i.O5="normal",i.KD=[5,5],i.A0A=[0,0],i.YP=""},parse:function(){this.b();var e,i=this;i.assign_a([["type","AF"],["value-range","A63","b"],["offset-start","A9","i"],["offset-end","BS","i"],["placement","BA"],["pair-scale","YP"],["label-placement","ML"],["label-alignment","O5"],["range","F9"]]),null===ZC._n_(i.o.alpha)&&(i.o.alpha="area"===i.AF?.25:.95),null!==ZC._n_(e=i.o["label-tolerance"])&&("object"==typeof e&&e.length?(i.KD[0]=ZC._i_(e[0]||"5"),i.KD[1]=ZC._i_(e[1]||"5")):i.KD[0]=i.KD[1]=ZC._i_(e||"5")),i.assign_a([["alpha","C5","f",0,1]]),null===ZC._n_(e=i.o.label)&&null===ZC._n_(i.o.text)||(i.M=new ZC.DN(i),i.A.A.A.B9.load(i.M.o,["("+i.A.AF+").SCALE.marker.label"]),null!==ZC._n_(i.o.text)&&i.M.append({text:i.o.text}),i.M.append(e),i.M.parse(),i.A0A=[i.M.BK,i.M.BI])},paint:function(){var e,i,l,A,M,a,o,n=this;if(n.F9)if(-1===n.A.BF.indexOf("scale-r")){if(n.AN){var F,t,s,p,B=n.A,C=n.A.A.P.AU,r=B.A.K+"-scales-"+("top"===n.BA?"f":"b")+"l-0-c";n.Z=n.C7=ZC.AL(B.H.usc()?B.H.K+"-main-c":r),e=ZC.Q.EC(n.Z,B.H.AC),M=[];var K,c=0,Z=0;n.BK>-1&&n.BK<1&&(n.BK=Math.ceil(n.BK*B.AB)),n.BI>-1&&n.BI<1&&(n.BI=Math.ceil(n.BI*B.AB)),n.M&&(n.M.Z=B.H.usc()?B.H.mc():ZC.AL(B.A.K+"-scales-ml-0-c"),n.M.K=n.A.A.K+"-"+n.A.BF.replace(/\-/g,"_")+"-marker_"+n.L,n.M.GL=n.A.K+"-marker-label "+n.A.A.K+"-scale-marker-label zc-scale-marker-label");var h=n.A.A,f=function(e,i){var l;return-1!==(i+"").indexOf("%")?(l=ZC._f_(i.replace("%","")),l="k"===e.AF?ZC._i_(l*(e.DR-e.D6)/100):l*(e.GU-e.FR)/100):l=i,n.A63||"v"===e.AF?e.AR(l):e.IE(l)};if("poly"===n.AF){var I,D,Y,L;for(h=n.A.A,"k"===B.AF?(I=B,D=""===n.YP?h.BW("v")[0]:h.BM(n.YP)||h.BW("v")[0]):"v"===B.AF&&(D=B,I=""===n.YP?h.BW("k")[0]:h.BM(n.YP)||h.BW("k")[0]),a=0,o=n.F9.length;a<o;a++)Y=f(I,n.F9[a][0]),L=D.AR(n.F9[a][1]),M.push([Y,L]),c+=Y,Z+=L;if(c/=M.length,Z/=M.length,M.length>=3){if(M[0].join("/")!==M[M.length-1].join("/")&&M.push([M[0][0],M[0][1]]),B.A.AJ["3d"])for(B.A.O3(),i=0,l=M.length;i<l;i++)A=new ZC.CF(B.A,M[i][0]-ZC.AQ.E4,M[i][1]-ZC.AQ.E5,ZC.AQ.FX),M[i][0]=A.ED[0],M[i][1]=A.ED[1];(K=new ZC.DQ(n.A)).K=B.K+"-marker-"+n.L,K.Z=K.C7=B.H.usc()?B.H.mc():ZC.AL(r),K.copy(n),K.B1=0,K.AU=0,K.ET=0,K.G2=0,K.D=M,K.parse(),K.paint()}}else if("line"===n.AF){if(-1!==B.BF.indexOf("scale-x")?1===n.F9.length?F=t=f(B,n.F9[0]):2===n.F9.length&&(F=f(B,n.F9[0]),t=f(B,n.F9[1])):-1!==B.BF.indexOf("scale-y")&&(1===n.F9.length?F=t=f(B,n.F9[0]):2===n.F9.length&&(F=f(B,n.F9[0]),t=f(B,n.F9[1]))),-1!==B.BF.indexOf("scale-x")&&B.CK||-1!==B.BF.indexOf("scale-y")&&!B.CK){if(M.push([B.iX+n.A9,F],[B.iX+B.I-n.BS,t]),n.o&&n.o.tooltip){h.o.labels=h.o.labels||[];for(var X=B.BF.replace(/\-/g,"")+"marker"+this.L,d=0;d<h.o.labels.length;d++)h.o.labels[d].id&&h.o.labels[d].id===X&&h.o.labels.splice(d,1);h.o.labels.push({id:X,cls:"zcScaleMarkerLabel",x:B.iX,y:F-n.B1,width:B.I,height:2*n.B1,alpha:0,tooltip:n.o.tooltip})}n.M&&("opposite"===n.ML?n.M.iX=B.iX+B.I-n.M.I-n.BS:n.M.iX=B.iX+n.A9,"opposite"===n.ML?n.M.iY=t-(B.AW?0:n.M.F):n.M.iY=F-(B.AW?0:n.M.F))}else{if(M.push([F,B.iY+B.F-n.A9],[t,B.iY+n.BS]),n.o&&n.o.tooltip){h.o.labels=h.o.labels||[];for(X=B.BF.replace(/\-/g,"")+"marker"+this.L,d=0;d<h.o.labels.length;d++)h.o.labels[d].id&&h.o.labels[d].id===X&&h.o.labels.splice(d,1);h.o.labels.push({id:X,cls:"zcScaleMarkerLabel",x:F-n.B1,y:B.iY,width:2*n.B1,height:B.F,alpha:0,tooltip:n.o.tooltip})}n.M&&("opposite"===n.ML?n.M.iX=t-(B.AW?n.M.I:0):n.M.iX=F-(B.AW?n.M.I:0),"opposite"===n.ML?n.M.iY=B.iY+n.M.I-n.M.F+n.BS:n.M.iY=B.iY+B.F-n.M.F-n.A9)}if(B.A.AJ["3d"])for(B.A.O3(),i=0,l=M.length;i<l;i++)A=new ZC.CF(B.A,M[i][0]-ZC.AQ.E4,M[i][1]-ZC.AQ.E5,ZC.AQ.FX),M[i][0]=A.ED[0],M[i][1]=A.ED[1];2===M.length&&(ZC.CR.setup(e,n),ZC.CR.paint(e,n,M))}else if("area"===n.AF&&(-1!==B.BF.indexOf("scale-x")?2===n.F9.length?(F=s=f(B,n.F9[0]),t=p=f(B,n.F9[1])):4===n.F9.length&&(F=f(B,n.F9[0]),t=f(B,n.F9[1]),s=f(B,n.F9[2]),p=f(B,n.F9[3])):-1!==B.BF.indexOf("scale-y")&&(2===n.F9.length?(F=s=B.AR(n.F9[0]),t=p=B.AR(n.F9[1])):4===n.F9.length&&(F=B.AR(n.F9[0]),t=B.AR(n.F9[1]),s=B.AR(n.F9[2]),p=B.AR(n.F9[3]))),t=F===t?t+1:t,p=s===p?p+1:p,-1!==B.BF.indexOf("scale-x")&&B.CK||-1!==B.BF.indexOf("scale-y")&&!B.CK?(M.push([B.iX+C,F],[B.iX+B.I-C,s],[B.iX+B.I-C,p],[B.iX+C,t],[B.iX+C,F]),n.M&&("opposite"===n.ML?n.M.iX=B.iX+B.I-n.M.I-n.BS:n.M.iX=B.iX+n.A9,"opposite"===n.ML?n.M.iY=t-(B.AW?0:n.M.F):n.M.iY=F-(B.AW?0:n.M.F))):(M.push([F,B.iY+B.F-C],[s,B.iY+C],[p,B.iY+C],[t,B.iY+B.F-C],[F,B.iY+B.F-C]),n.M&&("opposite"===n.ML?n.M.iX=t-(B.AW?n.M.I:0):n.M.iX=F-(B.AW?n.M.I:0),"opposite"===n.ML?n.M.iY=B.iY+n.M.I-n.M.F+n.BS:n.M.iY=B.iY+B.F-n.M.F-n.A9)),M.length>=4)){if(B.A.AJ["3d"])for(B.A.O3(),i=0,l=M.length;i<l;i++)A=new ZC.CF(B.A,M[i][0]-ZC.AQ.E4,M[i][1]-ZC.AQ.E5,ZC.AQ.FX),M[i][0]=A.ED[0],M[i][1]=A.ED[1];(K=new ZC.DQ(n.A)).K=B.K+"-marker-"+n.L,K.Z=K.C7=B.H.usc()?B.H.mc():ZC.AL(r),K.copy(n),K.B1=0,K.AU=0,K.ET=0,K.G2=0,K.D=M,K.parse(),K.BK=n.BK,K.BI=n.BI,K.paint()}var g=!0,x=B.A.P;2===M.length&&(-1!==B.BF.indexOf("scale-x")&&B.CK||-1!==B.BF.indexOf("scale-y")&&!B.CK?ZC.DP(M[0][1],x.iY-n.KD[1],x.iY+x.F+n.KD[1])&&ZC.DP(M[1][1],x.iY-n.KD[1],x.iY+x.F+n.KD[1])||(g=!1):ZC.DP(M[0][0],x.iX-n.KD[0],x.iX+x.I+n.KD[0])&&ZC.DP(M[1][0],x.iX-n.KD[0],x.iX+x.I+n.KD[0])||(g=!1));var _=n.O5;if(n.M&&g&&("poly"===n.AF?(n.M.iX=ZC._i_(c-n.M.I/2),n.M.iY=ZC._i_(Z-n.M.F/2)):("auto"===n.O5&&(_=-1!==B.BF.indexOf("scale-x")&&!B.CK||-1!==B.BF.indexOf("scale-y")&&B.CK?F<B.iX+B.I/2?"normal":"opposite":F>B.iY+B.F/2?"normal":"opposite"),n.M.BK=n.M.BI=0,(-1!==B.BF.indexOf("scale-x")&&!B.CK||-1!==B.BF.indexOf("scale-y")&&B.CK)&&null===ZC._n_(n.M.o.angle)&&(n.M.AA=270),-1!==B.BF.indexOf("scale-x")&&!B.CK||-1!==B.BF.indexOf("scale-y")&&B.CK?(n.M.AA%180==90&&(n.M.BK-=(B.AW?-1:1)*(n.M.I/2-n.M.F/2),n.M.BI-=n.M.I/2-n.M.F/2,"opposite"===n.ML&&(n.M.BI=-n.M.I/2+n.M.F/2),"opposite"===_&&(n.M.BK-=n.M.F)),n.M.AA%180==0&&("opposite"===n.ML&&(n.M.BI=-n.M.I+n.M.F),"opposite"===_&&(n.M.BK-=n.M.I))):(n.M.AA%180==90&&(n.M.BK-=n.M.I/2-n.M.F/2,n.M.BI-=(B.AW?-1:1)*(n.M.I/2-n.M.F/2),"opposite"===n.ML&&(n.M.BK=n.M.I/2-n.M.F/2),"opposite"===_&&(n.M.BI+=n.M.I)),n.M.AA%180==0&&"opposite"===_&&(n.M.BI+=n.M.F)),n.M.BK+=n.A0A[0]+n.BK,n.M.BI+=n.A0A[1]+n.BI),B.A.AJ["3d"]&&(A=new ZC.CF(B.A,n.M.iX-ZC.AQ.E4,n.M.iY-ZC.AQ.E5,ZC.AQ.FX),n.M.iX=A.ED[0],n.M.iY=A.ED[1]),ZC.DP(n.M.iX+n.M.BK+(n.M.AA%180==0?n.M.I/2:n.M.F/2),n.A.A.P.iX-n.KD[0],n.A.A.P.iX+n.A.A.P.I+n.KD[0])&&ZC.DP(n.M.iY+n.M.BI+(n.M.AA%180==0?n.M.F/2:n.M.I/2),n.A.A.P.iY-n.KD[1],n.A.A.P.iY+n.A.A.P.F+n.KD[1])&&(n.M.paint(),n.M.EM(),!n.M.KB&&"normal"===zingchart.OBJECTMODE&&(B.E["marker_text_"+n.L]=n.M.AM,ZC.AL(h.A.K+"-map"))))){var b=ZC.AP.O7(h.K,n.M);ZC.AL(h.A.K+"-map").innerHTML=ZC.AL(h.A.K+"-map").innerHTML+b}}}else n.A.paintMarker(n)}};ZC.A0L=ZC.DQ.CC(A0L);